{"ast":null,"code":"import React$1, { useState, useEffect, useCallback } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount as useIsAfterInitialMount$1 } from '../../utilities/use-is-after-initial-mount.js';\nimport { Image as Image$1 } from '../Image/Image.js';\nimport styles from './Avatar.scss.js';\nvar Status;\n\n(function (Status) {\n  Status[\"Pending\"] = \"PENDING\";\n  Status[\"Loaded\"] = \"LOADED\";\n  Status[\"Errored\"] = \"ERRORED\";\n})(Status || (Status = {}));\n\nconst STYLE_CLASSES = ['one', 'two', 'three', 'four', 'five'];\n\nvar _ref = /*#__PURE__*/React$1.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M8.28 27.5A14.95 14.95 0 0120 21.8c4.76 0 8.97 2.24 11.72 5.7a14.02 14.02 0 01-8.25 5.91 14.82 14.82 0 01-6.94 0 14.02 14.02 0 01-8.25-5.9zM13.99 12.78a6.02 6.02 0 1112.03 0 6.02 6.02 0 01-12.03 0z\"\n});\n\nfunction Avatar({\n  name,\n  source,\n  initials,\n  customer,\n  size = 'medium',\n  accessibilityLabel\n}) {\n  const i18n = useI18n();\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const isAfterInitialMount = useIsAfterInitialMount$1();\n\n  function styleClass(name) {\n    const finalStyleClasses = newDesignLanguage ? STYLE_CLASSES : [...STYLE_CLASSES, 'six'];\n    return name ? finalStyleClasses[name.charCodeAt(0) % finalStyleClasses.length] : finalStyleClasses[0];\n  }\n\n  const [status, setStatus] = useState(Status.Pending); // If the source changes, set the status back to pending\n\n  useEffect(() => {\n    setStatus(Status.Pending);\n  }, [source]);\n  const handleError = useCallback(() => {\n    setStatus(Status.Errored);\n  }, []);\n  const handleLoad = useCallback(() => {\n    setStatus(Status.Loaded);\n  }, []);\n  const hasImage = source && status !== Status.Errored;\n  const nameString = name || initials;\n  let label;\n\n  if (accessibilityLabel) {\n    label = accessibilityLabel;\n  } else if (name) {\n    label = name;\n  } else if (initials) {\n    const splitInitials = initials.split('').join(' ');\n    label = i18n.translate('Polaris.Avatar.labelWithInitials', {\n      initials: splitInitials\n    });\n  } else {\n    label = i18n.translate('Polaris.Avatar.label');\n  }\n\n  const className = classNames(styles.Avatar, size && styles[variationName('size', size)], !customer && styles[variationName('style', styleClass(nameString))], (hasImage || initials && initials.length === 0) && status !== Status.Loaded && styles.hidden, hasImage && styles.hasImage);\n  const imageMarkUp = source && isAfterInitialMount && status !== Status.Errored ? /*#__PURE__*/React$1.createElement(Image$1, {\n    className: styles.Image,\n    source: source,\n    alt: \"\",\n    role: \"presentation\",\n    onLoad: handleLoad,\n    onError: handleError\n  }) : null; // Use `dominant-baseline: central` instead of `dy` when Edge supports it.\n\n  const verticalOffset = '0.35em';\n  const avatarBody = customer || !initials ? _ref : /*#__PURE__*/React$1.createElement(\"text\", {\n    x: \"50%\",\n    y: \"50%\",\n    dy: verticalOffset,\n    fill: \"currentColor\",\n    fontSize: \"20\",\n    textAnchor: \"middle\"\n  }, initials);\n  const svgMarkup = !hasImage ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Initials\n  }, /*#__PURE__*/React$1.createElement(\"svg\", {\n    className: styles.Svg,\n    viewBox: \"0 0 40 40\"\n  }, avatarBody)) : null;\n  return /*#__PURE__*/React$1.createElement(\"span\", {\n    \"aria-label\": label,\n    role: \"img\",\n    className: className\n  }, svgMarkup, imageMarkUp);\n}\n\nexport { Avatar, STYLE_CLASSES };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Avatar/Avatar.js"],"names":["React$1","useState","useEffect","useCallback","useFeatures","useI18n","classNames","variationName","useIsAfterInitialMount","useIsAfterInitialMount$1","Image","Image$1","styles","Status","STYLE_CLASSES","_ref","createElement","fill","d","Avatar","name","source","initials","customer","size","accessibilityLabel","i18n","newDesignLanguage","isAfterInitialMount","styleClass","finalStyleClasses","charCodeAt","length","status","setStatus","Pending","handleError","Errored","handleLoad","Loaded","hasImage","nameString","label","splitInitials","split","join","translate","className","hidden","imageMarkUp","alt","role","onLoad","onError","verticalOffset","avatarBody","x","y","dy","fontSize","textAnchor","svgMarkup","Initials","Svg","viewBox"],"mappings":"AAAA,OAAOA,OAAP,IAAkBC,QAAlB,EAA4BC,SAA5B,EAAuCC,WAAvC,QAA0D,OAA1D;AACA,SAASC,WAAT,QAA4B,mCAA5B;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,wBAA1C;AACA,SAASC,sBAAsB,IAAIC,wBAAnC,QAAmE,+CAAnE;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,mBAAjC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAEA,IAAIC,MAAJ;;AAEA,CAAC,UAAUA,MAAV,EAAkB;AACjBA,EAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB,SAApB;AACAA,EAAAA,MAAM,CAAC,QAAD,CAAN,GAAmB,QAAnB;AACAA,EAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB,SAApB;AACD,CAJD,EAIGA,MAAM,KAAKA,MAAM,GAAG,EAAd,CAJT;;AAMA,MAAMC,aAAa,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,EAAwB,MAAxB,EAAgC,MAAhC,CAAtB;;AAEA,IAAIC,IAAI,GAAG,aAAaf,OAAO,CAACgB,aAAR,CAAsB,MAAtB,EAA8B;AACpDC,EAAAA,IAAI,EAAE,cAD8C;AAEpDC,EAAAA,CAAC,EAAE;AAFiD,CAA9B,CAAxB;;AAKA,SAASC,MAAT,CAAgB;AACdC,EAAAA,IADc;AAEdC,EAAAA,MAFc;AAGdC,EAAAA,QAHc;AAIdC,EAAAA,QAJc;AAKdC,EAAAA,IAAI,GAAG,QALO;AAMdC,EAAAA;AANc,CAAhB,EAOG;AACD,QAAMC,IAAI,GAAGrB,OAAO,EAApB;AACA,QAAM;AACJsB,IAAAA;AADI,MAEFvB,WAAW,EAFf;AAGA,QAAMwB,mBAAmB,GAAGnB,wBAAwB,EAApD;;AAEA,WAASoB,UAAT,CAAoBT,IAApB,EAA0B;AACxB,UAAMU,iBAAiB,GAAGH,iBAAiB,GAAGb,aAAH,GAAmB,CAAC,GAAGA,aAAJ,EAAmB,KAAnB,CAA9D;AACA,WAAOM,IAAI,GAAGU,iBAAiB,CAACV,IAAI,CAACW,UAAL,CAAgB,CAAhB,IAAqBD,iBAAiB,CAACE,MAAxC,CAApB,GAAsEF,iBAAiB,CAAC,CAAD,CAAlG;AACD;;AAED,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBjC,QAAQ,CAACY,MAAM,CAACsB,OAAR,CAApC,CAZC,CAYqD;;AAEtDjC,EAAAA,SAAS,CAAC,MAAM;AACdgC,IAAAA,SAAS,CAACrB,MAAM,CAACsB,OAAR,CAAT;AACD,GAFQ,EAEN,CAACd,MAAD,CAFM,CAAT;AAGA,QAAMe,WAAW,GAAGjC,WAAW,CAAC,MAAM;AACpC+B,IAAAA,SAAS,CAACrB,MAAM,CAACwB,OAAR,CAAT;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,QAAMC,UAAU,GAAGnC,WAAW,CAAC,MAAM;AACnC+B,IAAAA,SAAS,CAACrB,MAAM,CAAC0B,MAAR,CAAT;AACD,GAF6B,EAE3B,EAF2B,CAA9B;AAGA,QAAMC,QAAQ,GAAGnB,MAAM,IAAIY,MAAM,KAAKpB,MAAM,CAACwB,OAA7C;AACA,QAAMI,UAAU,GAAGrB,IAAI,IAAIE,QAA3B;AACA,MAAIoB,KAAJ;;AAEA,MAAIjB,kBAAJ,EAAwB;AACtBiB,IAAAA,KAAK,GAAGjB,kBAAR;AACD,GAFD,MAEO,IAAIL,IAAJ,EAAU;AACfsB,IAAAA,KAAK,GAAGtB,IAAR;AACD,GAFM,MAEA,IAAIE,QAAJ,EAAc;AACnB,UAAMqB,aAAa,GAAGrB,QAAQ,CAACsB,KAAT,CAAe,EAAf,EAAmBC,IAAnB,CAAwB,GAAxB,CAAtB;AACAH,IAAAA,KAAK,GAAGhB,IAAI,CAACoB,SAAL,CAAe,kCAAf,EAAmD;AACzDxB,MAAAA,QAAQ,EAAEqB;AAD+C,KAAnD,CAAR;AAGD,GALM,MAKA;AACLD,IAAAA,KAAK,GAAGhB,IAAI,CAACoB,SAAL,CAAe,sBAAf,CAAR;AACD;;AAED,QAAMC,SAAS,GAAGzC,UAAU,CAACM,MAAM,CAACO,MAAR,EAAgBK,IAAI,IAAIZ,MAAM,CAACL,aAAa,CAAC,MAAD,EAASiB,IAAT,CAAd,CAA9B,EAA6D,CAACD,QAAD,IAAaX,MAAM,CAACL,aAAa,CAAC,OAAD,EAAUsB,UAAU,CAACY,UAAD,CAApB,CAAd,CAAhF,EAAkI,CAACD,QAAQ,IAAIlB,QAAQ,IAAIA,QAAQ,CAACU,MAAT,KAAoB,CAA7C,KAAmDC,MAAM,KAAKpB,MAAM,CAAC0B,MAArE,IAA+E3B,MAAM,CAACoC,MAAxN,EAAgOR,QAAQ,IAAI5B,MAAM,CAAC4B,QAAnP,CAA5B;AACA,QAAMS,WAAW,GAAG5B,MAAM,IAAIO,mBAAV,IAAiCK,MAAM,KAAKpB,MAAM,CAACwB,OAAnD,GAA6D,aAAarC,OAAO,CAACgB,aAAR,CAAsBL,OAAtB,EAA+B;AAC3HoC,IAAAA,SAAS,EAAEnC,MAAM,CAACF,KADyG;AAE3HW,IAAAA,MAAM,EAAEA,MAFmH;AAG3H6B,IAAAA,GAAG,EAAE,EAHsH;AAI3HC,IAAAA,IAAI,EAAE,cAJqH;AAK3HC,IAAAA,MAAM,EAAEd,UALmH;AAM3He,IAAAA,OAAO,EAAEjB;AANkH,GAA/B,CAA1E,GAOf,IAPL,CAzCC,CAgDU;;AAEX,QAAMkB,cAAc,GAAG,QAAvB;AACA,QAAMC,UAAU,GAAGhC,QAAQ,IAAI,CAACD,QAAb,GAAwBP,IAAxB,GAA+B,aAAaf,OAAO,CAACgB,aAAR,CAAsB,MAAtB,EAA8B;AAC3FwC,IAAAA,CAAC,EAAE,KADwF;AAE3FC,IAAAA,CAAC,EAAE,KAFwF;AAG3FC,IAAAA,EAAE,EAAEJ,cAHuF;AAI3FrC,IAAAA,IAAI,EAAE,cAJqF;AAK3F0C,IAAAA,QAAQ,EAAE,IALiF;AAM3FC,IAAAA,UAAU,EAAE;AAN+E,GAA9B,EAO5DtC,QAP4D,CAA/D;AAQA,QAAMuC,SAAS,GAAG,CAACrB,QAAD,GAAY,aAAaxC,OAAO,CAACgB,aAAR,CAAsB,MAAtB,EAA8B;AACvE+B,IAAAA,SAAS,EAAEnC,MAAM,CAACkD;AADqD,GAA9B,EAExC,aAAa9D,OAAO,CAACgB,aAAR,CAAsB,KAAtB,EAA6B;AAC3C+B,IAAAA,SAAS,EAAEnC,MAAM,CAACmD,GADyB;AAE3CC,IAAAA,OAAO,EAAE;AAFkC,GAA7B,EAGbT,UAHa,CAF2B,CAAzB,GAKA,IALlB;AAMA,SAAO,aAAavD,OAAO,CAACgB,aAAR,CAAsB,MAAtB,EAA8B;AAChD,kBAAc0B,KADkC;AAEhDS,IAAAA,IAAI,EAAE,KAF0C;AAGhDJ,IAAAA,SAAS,EAAEA;AAHqC,GAA9B,EAIjBc,SAJiB,EAINZ,WAJM,CAApB;AAKD;;AAED,SAAS9B,MAAT,EAAiBL,aAAjB","sourcesContent":["import React$1, { useState, useEffect, useCallback } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount as useIsAfterInitialMount$1 } from '../../utilities/use-is-after-initial-mount.js';\nimport { Image as Image$1 } from '../Image/Image.js';\nimport styles from './Avatar.scss.js';\n\nvar Status;\n\n(function (Status) {\n  Status[\"Pending\"] = \"PENDING\";\n  Status[\"Loaded\"] = \"LOADED\";\n  Status[\"Errored\"] = \"ERRORED\";\n})(Status || (Status = {}));\n\nconst STYLE_CLASSES = ['one', 'two', 'three', 'four', 'five'];\n\nvar _ref = /*#__PURE__*/React$1.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M8.28 27.5A14.95 14.95 0 0120 21.8c4.76 0 8.97 2.24 11.72 5.7a14.02 14.02 0 01-8.25 5.91 14.82 14.82 0 01-6.94 0 14.02 14.02 0 01-8.25-5.9zM13.99 12.78a6.02 6.02 0 1112.03 0 6.02 6.02 0 01-12.03 0z\"\n});\n\nfunction Avatar({\n  name,\n  source,\n  initials,\n  customer,\n  size = 'medium',\n  accessibilityLabel\n}) {\n  const i18n = useI18n();\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const isAfterInitialMount = useIsAfterInitialMount$1();\n\n  function styleClass(name) {\n    const finalStyleClasses = newDesignLanguage ? STYLE_CLASSES : [...STYLE_CLASSES, 'six'];\n    return name ? finalStyleClasses[name.charCodeAt(0) % finalStyleClasses.length] : finalStyleClasses[0];\n  }\n\n  const [status, setStatus] = useState(Status.Pending); // If the source changes, set the status back to pending\n\n  useEffect(() => {\n    setStatus(Status.Pending);\n  }, [source]);\n  const handleError = useCallback(() => {\n    setStatus(Status.Errored);\n  }, []);\n  const handleLoad = useCallback(() => {\n    setStatus(Status.Loaded);\n  }, []);\n  const hasImage = source && status !== Status.Errored;\n  const nameString = name || initials;\n  let label;\n\n  if (accessibilityLabel) {\n    label = accessibilityLabel;\n  } else if (name) {\n    label = name;\n  } else if (initials) {\n    const splitInitials = initials.split('').join(' ');\n    label = i18n.translate('Polaris.Avatar.labelWithInitials', {\n      initials: splitInitials\n    });\n  } else {\n    label = i18n.translate('Polaris.Avatar.label');\n  }\n\n  const className = classNames(styles.Avatar, size && styles[variationName('size', size)], !customer && styles[variationName('style', styleClass(nameString))], (hasImage || initials && initials.length === 0) && status !== Status.Loaded && styles.hidden, hasImage && styles.hasImage);\n  const imageMarkUp = source && isAfterInitialMount && status !== Status.Errored ? /*#__PURE__*/React$1.createElement(Image$1, {\n    className: styles.Image,\n    source: source,\n    alt: \"\",\n    role: \"presentation\",\n    onLoad: handleLoad,\n    onError: handleError\n  }) : null; // Use `dominant-baseline: central` instead of `dy` when Edge supports it.\n\n  const verticalOffset = '0.35em';\n  const avatarBody = customer || !initials ? _ref : /*#__PURE__*/React$1.createElement(\"text\", {\n    x: \"50%\",\n    y: \"50%\",\n    dy: verticalOffset,\n    fill: \"currentColor\",\n    fontSize: \"20\",\n    textAnchor: \"middle\"\n  }, initials);\n  const svgMarkup = !hasImage ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Initials\n  }, /*#__PURE__*/React$1.createElement(\"svg\", {\n    className: styles.Svg,\n    viewBox: \"0 0 40 40\"\n  }, avatarBody)) : null;\n  return /*#__PURE__*/React$1.createElement(\"span\", {\n    \"aria-label\": label,\n    role: \"img\",\n    className: className\n  }, svgMarkup, imageMarkUp);\n}\n\nexport { Avatar, STYLE_CLASSES };\n"]},"metadata":{},"sourceType":"module"}