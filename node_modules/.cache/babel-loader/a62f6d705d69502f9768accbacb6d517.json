{"ast":null,"code":"import React$1, { useCallback } from 'react';\nimport { useTheme } from '../../../../utilities/theme/hooks.js';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { ThemeProvider as ThemeProvider$1 } from '../../../ThemeProvider/ThemeProvider.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { Image as Image$1 } from '../../../Image/Image.js';\nimport { Button as Button$1 } from '../../../Button/Button.js';\nimport { useToggle as useToggle$1 } from '../../../../utilities/use-toggle.js';\nimport { Stack as Stack$1 } from '../../../Stack/Stack.js';\nimport { getWidth as getWidth$1 } from '../../../../utilities/get-width.js';\nimport { DiscardConfirmationModal as DiscardConfirmationModal$1 } from './components/DiscardConfirmationModal/DiscardConfirmationModal.js';\nimport styles from './ContextualSaveBar.scss.js';\n\nfunction ContextualSaveBar({\n  alignContentFlush,\n  message,\n  saveAction,\n  discardAction,\n  fullWidth,\n  contextControl\n}) {\n  const i18n = useI18n();\n  const {\n    logo\n  } = useTheme();\n  const {\n    newDesignLanguage = false\n  } = useFeatures();\n  const {\n    value: discardConfirmationModalVisible,\n    toggle: toggleDiscardConfirmationModal,\n    setFalse: closeDiscardConfirmationModal\n  } = useToggle$1(false);\n  const handleDiscardAction = useCallback(() => {\n    if (discardAction && discardAction.onAction) {\n      discardAction.onAction();\n    }\n\n    closeDiscardConfirmationModal();\n  }, [closeDiscardConfirmationModal, discardAction]);\n  const discardActionContent = discardAction && discardAction.content ? discardAction.content : i18n.translate('Polaris.ContextualSaveBar.discard');\n  let discardActionHandler;\n\n  if (discardAction && discardAction.discardConfirmationModal) {\n    discardActionHandler = toggleDiscardConfirmationModal;\n  } else if (discardAction) {\n    discardActionHandler = discardAction.onAction;\n  }\n\n  const discardConfirmationModalMarkup = discardAction && discardAction.onAction && discardAction.discardConfirmationModal && /*#__PURE__*/React$1.createElement(DiscardConfirmationModal$1, {\n    open: discardConfirmationModalVisible,\n    onCancel: toggleDiscardConfirmationModal,\n    onDiscard: handleDiscardAction\n  });\n  const discardActionMarkup = discardAction && /*#__PURE__*/React$1.createElement(Button$1, {\n    url: discardAction.url,\n    onClick: discardActionHandler,\n    loading: discardAction.loading,\n    disabled: discardAction.disabled,\n    accessibilityLabel: discardAction.content\n  }, discardActionContent);\n  const saveActionContent = saveAction && saveAction.content ? saveAction.content : i18n.translate('Polaris.ContextualSaveBar.save');\n  const saveActionMarkup = saveAction && /*#__PURE__*/React$1.createElement(Button$1, {\n    primary: true,\n    url: saveAction.url,\n    onClick: saveAction.onAction,\n    loading: saveAction.loading,\n    disabled: saveAction.disabled,\n    accessibilityLabel: saveAction.content\n  }, saveActionContent);\n  const width = getWidth$1(logo, 104);\n  const imageMarkup = logo && /*#__PURE__*/React$1.createElement(Image$1, {\n    style: {\n      width\n    },\n    source: logo.contextualSaveBarSource || '',\n    alt: \"\"\n  });\n  const logoMarkup = alignContentFlush || contextControl ? null : /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.LogoContainer,\n    style: {\n      width\n    }\n  }, imageMarkup);\n  const contextControlMarkup = contextControl ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContextControl\n  }, contextControl) : null;\n  const contexualSaveBarClassName = classNames(styles.ContextualSaveBar, newDesignLanguage && styles.newDesignLanguage);\n  const contentsClassName = classNames(styles.Contents, fullWidth && styles.fullWidth);\n  return /*#__PURE__*/React$1.createElement(React$1.Fragment, null, /*#__PURE__*/React$1.createElement(ThemeProvider$1, {\n    theme: {\n      colorScheme: 'inverse'\n    }\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: contexualSaveBarClassName\n  }, contextControlMarkup, logoMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: contentsClassName\n  }, /*#__PURE__*/React$1.createElement(\"h2\", {\n    className: styles.Message\n  }, message), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ActionContainer\n  }, /*#__PURE__*/React$1.createElement(Stack$1, {\n    spacing: \"tight\",\n    wrap: false\n  }, discardActionMarkup, saveActionMarkup))))), discardConfirmationModalMarkup);\n}\n\nexport { ContextualSaveBar };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Frame/components/ContextualSaveBar/ContextualSaveBar.js"],"names":["React$1","useCallback","useTheme","useFeatures","ThemeProvider","ThemeProvider$1","useI18n","classNames","Image","Image$1","Button","Button$1","useToggle","useToggle$1","Stack","Stack$1","getWidth","getWidth$1","DiscardConfirmationModal","DiscardConfirmationModal$1","styles","ContextualSaveBar","alignContentFlush","message","saveAction","discardAction","fullWidth","contextControl","i18n","logo","newDesignLanguage","value","discardConfirmationModalVisible","toggle","toggleDiscardConfirmationModal","setFalse","closeDiscardConfirmationModal","handleDiscardAction","onAction","discardActionContent","content","translate","discardActionHandler","discardConfirmationModal","discardConfirmationModalMarkup","createElement","open","onCancel","onDiscard","discardActionMarkup","url","onClick","loading","disabled","accessibilityLabel","saveActionContent","saveActionMarkup","primary","width","imageMarkup","style","source","contextualSaveBarSource","alt","logoMarkup","className","LogoContainer","contextControlMarkup","ContextControl","contexualSaveBarClassName","contentsClassName","Contents","Fragment","theme","colorScheme","Message","ActionContainer","spacing","wrap"],"mappings":"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","sourcesContent":["import React$1, { useCallback } from 'react';\nimport { useTheme } from '../../../../utilities/theme/hooks.js';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { ThemeProvider as ThemeProvider$1 } from '../../../ThemeProvider/ThemeProvider.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { Image as Image$1 } from '../../../Image/Image.js';\nimport { Button as Button$1 } from '../../../Button/Button.js';\nimport { useToggle as useToggle$1 } from '../../../../utilities/use-toggle.js';\nimport { Stack as Stack$1 } from '../../../Stack/Stack.js';\nimport { getWidth as getWidth$1 } from '../../../../utilities/get-width.js';\nimport { DiscardConfirmationModal as DiscardConfirmationModal$1 } from './components/DiscardConfirmationModal/DiscardConfirmationModal.js';\nimport styles from './ContextualSaveBar.scss.js';\n\nfunction ContextualSaveBar({\n  alignContentFlush,\n  message,\n  saveAction,\n  discardAction,\n  fullWidth,\n  contextControl\n}) {\n  const i18n = useI18n();\n  const {\n    logo\n  } = useTheme();\n  const {\n    newDesignLanguage = false\n  } = useFeatures();\n  const {\n    value: discardConfirmationModalVisible,\n    toggle: toggleDiscardConfirmationModal,\n    setFalse: closeDiscardConfirmationModal\n  } = useToggle$1(false);\n  const handleDiscardAction = useCallback(() => {\n    if (discardAction && discardAction.onAction) {\n      discardAction.onAction();\n    }\n\n    closeDiscardConfirmationModal();\n  }, [closeDiscardConfirmationModal, discardAction]);\n  const discardActionContent = discardAction && discardAction.content ? discardAction.content : i18n.translate('Polaris.ContextualSaveBar.discard');\n  let discardActionHandler;\n\n  if (discardAction && discardAction.discardConfirmationModal) {\n    discardActionHandler = toggleDiscardConfirmationModal;\n  } else if (discardAction) {\n    discardActionHandler = discardAction.onAction;\n  }\n\n  const discardConfirmationModalMarkup = discardAction && discardAction.onAction && discardAction.discardConfirmationModal && /*#__PURE__*/React$1.createElement(DiscardConfirmationModal$1, {\n    open: discardConfirmationModalVisible,\n    onCancel: toggleDiscardConfirmationModal,\n    onDiscard: handleDiscardAction\n  });\n  const discardActionMarkup = discardAction && /*#__PURE__*/React$1.createElement(Button$1, {\n    url: discardAction.url,\n    onClick: discardActionHandler,\n    loading: discardAction.loading,\n    disabled: discardAction.disabled,\n    accessibilityLabel: discardAction.content\n  }, discardActionContent);\n  const saveActionContent = saveAction && saveAction.content ? saveAction.content : i18n.translate('Polaris.ContextualSaveBar.save');\n  const saveActionMarkup = saveAction && /*#__PURE__*/React$1.createElement(Button$1, {\n    primary: true,\n    url: saveAction.url,\n    onClick: saveAction.onAction,\n    loading: saveAction.loading,\n    disabled: saveAction.disabled,\n    accessibilityLabel: saveAction.content\n  }, saveActionContent);\n  const width = getWidth$1(logo, 104);\n  const imageMarkup = logo && /*#__PURE__*/React$1.createElement(Image$1, {\n    style: {\n      width\n    },\n    source: logo.contextualSaveBarSource || '',\n    alt: \"\"\n  });\n  const logoMarkup = alignContentFlush || contextControl ? null : /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.LogoContainer,\n    style: {\n      width\n    }\n  }, imageMarkup);\n  const contextControlMarkup = contextControl ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContextControl\n  }, contextControl) : null;\n  const contexualSaveBarClassName = classNames(styles.ContextualSaveBar, newDesignLanguage && styles.newDesignLanguage);\n  const contentsClassName = classNames(styles.Contents, fullWidth && styles.fullWidth);\n  return /*#__PURE__*/React$1.createElement(React$1.Fragment, null, /*#__PURE__*/React$1.createElement(ThemeProvider$1, {\n    theme: {\n      colorScheme: 'inverse'\n    }\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: contexualSaveBarClassName\n  }, contextControlMarkup, logoMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: contentsClassName\n  }, /*#__PURE__*/React$1.createElement(\"h2\", {\n    className: styles.Message\n  }, message), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ActionContainer\n  }, /*#__PURE__*/React$1.createElement(Stack$1, {\n    spacing: \"tight\",\n    wrap: false\n  }, discardActionMarkup, saveActionMarkup))))), discardConfirmationModalMarkup);\n}\n\nexport { ContextualSaveBar };\n"]},"metadata":{},"sourceType":"module"}