{"ast":null,"code":"import { Key } from '../../types.js';\nimport React$1, { forwardRef, useRef, useState, useImperativeHandle } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MinusMinor, TickSmallMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { useToggle as useToggle$1 } from '../../utilities/use-toggle.js';\nimport { errorTextID } from '../InlineError/InlineError.js';\nimport { Choice as Choice$1, helpTextID } from '../Choice/Choice.js';\nimport styles from './Checkbox.scss.js';\nconst Checkbox = /*#__PURE__*/forwardRef(function Checkbox({\n  ariaDescribedBy: ariaDescribedByProp,\n  label,\n  labelHidden,\n  checked = false,\n  helpText,\n  disabled,\n  id: idProp,\n  name,\n  value,\n  error,\n  onChange,\n  onFocus,\n  onBlur\n}, ref) {\n  const inputNode = useRef(null);\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const id = useUniqueId('Checkbox', idProp);\n  const {\n    value: mouseOver,\n    setTrue: handleMouseOver,\n    setFalse: handleMouseOut\n  } = useToggle$1(false);\n  const [keyFocused, setKeyFocused] = useState(false);\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      if (inputNode.current) {\n        inputNode.current.focus();\n      }\n    }\n  }));\n\n  const handleBlur = () => {\n    onBlur && onBlur();\n    setKeyFocused(false);\n  };\n\n  const handleInput = () => {\n    if (onChange == null || inputNode.current == null || disabled) {\n      return;\n    }\n\n    onChange(!inputNode.current.checked, id);\n    inputNode.current.focus();\n  };\n\n  const handleKeyUp = event => {\n    const {\n      keyCode\n    } = event;\n    !keyFocused && setKeyFocused(true);\n\n    if (keyCode === Key.Space) {\n      handleInput();\n    }\n  };\n\n  const describedBy = [];\n\n  if (error && typeof error !== 'boolean') {\n    describedBy.push(errorTextID(id));\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (ariaDescribedByProp) {\n    describedBy.push(ariaDescribedByProp);\n  }\n\n  const ariaDescribedBy = describedBy.length ? describedBy.join(' ') : undefined;\n  const wrapperClassName = classNames(styles.Checkbox, error && styles.error, newDesignLanguage && styles.newDesignLanguage);\n  const backdropClassName = classNames(styles.Backdrop, mouseOver && styles.hover);\n  const isIndeterminate = checked === 'indeterminate';\n  const isChecked = !isIndeterminate && Boolean(checked);\n  const indeterminateAttributes = isIndeterminate ? {\n    indeterminate: 'true',\n    'aria-checked': 'mixed'\n  } : {\n    'aria-checked': isChecked\n  };\n  const iconSource = isIndeterminate ? MinusMinor : TickSmallMinor;\n  const inputClassName = classNames(styles.Input, isIndeterminate && styles['Input-indeterminate'], newDesignLanguage && keyFocused && styles.keyFocused);\n  return (\n    /*#__PURE__*/\n\n    /* eslint-disable jsx-a11y/no-redundant-roles */\n    React$1.createElement(Choice$1, {\n      id: id,\n      label: label,\n      labelHidden: labelHidden,\n      helpText: helpText,\n      error: error,\n      disabled: disabled,\n      onClick: handleInput,\n      onMouseOver: handleMouseOver,\n      onMouseOut: handleMouseOut\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: wrapperClassName\n    }, /*#__PURE__*/React$1.createElement(\"input\", Object.assign({\n      onKeyUp: handleKeyUp,\n      ref: inputNode,\n      id: id,\n      name: name,\n      value: value,\n      type: \"checkbox\",\n      checked: isChecked,\n      disabled: disabled,\n      className: inputClassName,\n      onFocus: onFocus,\n      onBlur: handleBlur,\n      onClick: stopPropagation,\n      onChange: noop,\n      \"aria-invalid\": error != null,\n      \"aria-describedby\": ariaDescribedBy,\n      role: \"checkbox\"\n    }, indeterminateAttributes)), /*#__PURE__*/React$1.createElement(\"span\", {\n      className: backdropClassName\n    }), /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Icon\n    }, /*#__PURE__*/React$1.createElement(Icon$1, {\n      source: iconSource\n    }))))\n    /* eslint-enable jsx-a11y/no-redundant-roles */\n\n  );\n});\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nexport { Checkbox };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Checkbox/Checkbox.js"],"names":["Key","React$1","forwardRef","useRef","useState","useImperativeHandle","useFeatures","useUniqueId","classNames","MinusMinor","TickSmallMinor","Icon","Icon$1","useToggle","useToggle$1","errorTextID","Choice","Choice$1","helpTextID","styles","Checkbox","ariaDescribedBy","ariaDescribedByProp","label","labelHidden","checked","helpText","disabled","id","idProp","name","value","error","onChange","onFocus","onBlur","ref","inputNode","newDesignLanguage","mouseOver","setTrue","handleMouseOver","setFalse","handleMouseOut","keyFocused","setKeyFocused","focus","current","handleBlur","handleInput","handleKeyUp","event","keyCode","Space","describedBy","push","length","join","undefined","wrapperClassName","backdropClassName","Backdrop","hover","isIndeterminate","isChecked","Boolean","indeterminateAttributes","indeterminate","iconSource","inputClassName","Input","createElement","onClick","onMouseOver","onMouseOut","className","Object","assign","onKeyUp","type","stopPropagation","noop","role","source"],"mappings":"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","sourcesContent":["import { Key } from '../../types.js';\nimport React$1, { forwardRef, useRef, useState, useImperativeHandle } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MinusMinor, TickSmallMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { useToggle as useToggle$1 } from '../../utilities/use-toggle.js';\nimport { errorTextID } from '../InlineError/InlineError.js';\nimport { Choice as Choice$1, helpTextID } from '../Choice/Choice.js';\nimport styles from './Checkbox.scss.js';\n\nconst Checkbox = /*#__PURE__*/forwardRef(function Checkbox({\n  ariaDescribedBy: ariaDescribedByProp,\n  label,\n  labelHidden,\n  checked = false,\n  helpText,\n  disabled,\n  id: idProp,\n  name,\n  value,\n  error,\n  onChange,\n  onFocus,\n  onBlur\n}, ref) {\n  const inputNode = useRef(null);\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const id = useUniqueId('Checkbox', idProp);\n  const {\n    value: mouseOver,\n    setTrue: handleMouseOver,\n    setFalse: handleMouseOut\n  } = useToggle$1(false);\n  const [keyFocused, setKeyFocused] = useState(false);\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      if (inputNode.current) {\n        inputNode.current.focus();\n      }\n    }\n  }));\n\n  const handleBlur = () => {\n    onBlur && onBlur();\n    setKeyFocused(false);\n  };\n\n  const handleInput = () => {\n    if (onChange == null || inputNode.current == null || disabled) {\n      return;\n    }\n\n    onChange(!inputNode.current.checked, id);\n    inputNode.current.focus();\n  };\n\n  const handleKeyUp = event => {\n    const {\n      keyCode\n    } = event;\n    !keyFocused && setKeyFocused(true);\n\n    if (keyCode === Key.Space) {\n      handleInput();\n    }\n  };\n\n  const describedBy = [];\n\n  if (error && typeof error !== 'boolean') {\n    describedBy.push(errorTextID(id));\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (ariaDescribedByProp) {\n    describedBy.push(ariaDescribedByProp);\n  }\n\n  const ariaDescribedBy = describedBy.length ? describedBy.join(' ') : undefined;\n  const wrapperClassName = classNames(styles.Checkbox, error && styles.error, newDesignLanguage && styles.newDesignLanguage);\n  const backdropClassName = classNames(styles.Backdrop, mouseOver && styles.hover);\n  const isIndeterminate = checked === 'indeterminate';\n  const isChecked = !isIndeterminate && Boolean(checked);\n  const indeterminateAttributes = isIndeterminate ? {\n    indeterminate: 'true',\n    'aria-checked': 'mixed'\n  } : {\n    'aria-checked': isChecked\n  };\n  const iconSource = isIndeterminate ? MinusMinor : TickSmallMinor;\n  const inputClassName = classNames(styles.Input, isIndeterminate && styles['Input-indeterminate'], newDesignLanguage && keyFocused && styles.keyFocused);\n  return (\n    /*#__PURE__*/\n\n    /* eslint-disable jsx-a11y/no-redundant-roles */\n    React$1.createElement(Choice$1, {\n      id: id,\n      label: label,\n      labelHidden: labelHidden,\n      helpText: helpText,\n      error: error,\n      disabled: disabled,\n      onClick: handleInput,\n      onMouseOver: handleMouseOver,\n      onMouseOut: handleMouseOut\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: wrapperClassName\n    }, /*#__PURE__*/React$1.createElement(\"input\", Object.assign({\n      onKeyUp: handleKeyUp,\n      ref: inputNode,\n      id: id,\n      name: name,\n      value: value,\n      type: \"checkbox\",\n      checked: isChecked,\n      disabled: disabled,\n      className: inputClassName,\n      onFocus: onFocus,\n      onBlur: handleBlur,\n      onClick: stopPropagation,\n      onChange: noop,\n      \"aria-invalid\": error != null,\n      \"aria-describedby\": ariaDescribedBy,\n      role: \"checkbox\"\n    }, indeterminateAttributes)), /*#__PURE__*/React$1.createElement(\"span\", {\n      className: backdropClassName\n    }), /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Icon\n    }, /*#__PURE__*/React$1.createElement(Icon$1, {\n      source: iconSource\n    }))))\n    /* eslint-enable jsx-a11y/no-redundant-roles */\n\n  );\n});\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nexport { Checkbox };\n"]},"metadata":{},"sourceType":"module"}