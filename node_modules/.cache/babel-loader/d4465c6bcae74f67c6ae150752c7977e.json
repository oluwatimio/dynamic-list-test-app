{"ast":null,"code":"import React$1, { useState, useRef, useCallback, useEffect } from 'react';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../../../Icon/Icon.js';\nimport { VisuallyHidden as VisuallyHidden$1 } from '../../../VisuallyHidden/VisuallyHidden.js';\nimport styles from './SearchField.scss.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CircleCancelMinor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: SearchMinor\n});\n\nfunction SearchField({\n  value,\n  focused,\n  active,\n  placeholder,\n  onChange,\n  onFocus,\n  onBlur,\n  onCancel,\n  showFocusBorder\n}) {\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(({\n    currentTarget\n  }) => {\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n\n    if (!input.current) {\n      return;\n    }\n\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React$1.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, _ref);\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused, newDesignLanguage && styles['SearchField-newDesignLanguage']);\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React$1.createElement(VisuallyHidden$1, null, /*#__PURE__*/React$1.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React$1.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Icon\n  }, _ref2), clearMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\n\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\n\nexport { SearchField };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/TopBar/components/SearchField/SearchField.js"],"names":["React$1","useState","useRef","useCallback","useEffect","useFeatures","useUniqueId","useI18n","classNames","CircleCancelMinor","SearchMinor","Icon","Icon$1","VisuallyHidden","VisuallyHidden$1","styles","_ref","createElement","source","_ref2","SearchField","value","focused","active","placeholder","onChange","onFocus","onBlur","onCancel","showFocusBorder","i18n","forceActive","setForceActive","newDesignLanguage","input","searchId","handleChange","currentTarget","handleFocus","handleBlur","handleClear","current","focus","blur","clearMarkup","type","translate","className","Clear","onClick","htmlFor","id","Input","autoCapitalize","autoComplete","autoCorrect","ref","onKeyDown","preventDefault","Backdrop","BackdropShowFocusBorder","event","key"],"mappings":"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","sourcesContent":["import React$1, { useState, useRef, useCallback, useEffect } from 'react';\nimport { useFeatures } from '../../../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../../../Icon/Icon.js';\nimport { VisuallyHidden as VisuallyHidden$1 } from '../../../VisuallyHidden/VisuallyHidden.js';\nimport styles from './SearchField.scss.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CircleCancelMinor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: SearchMinor\n});\n\nfunction SearchField({\n  value,\n  focused,\n  active,\n  placeholder,\n  onChange,\n  onFocus,\n  onBlur,\n  onCancel,\n  showFocusBorder\n}) {\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(({\n    currentTarget\n  }) => {\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n\n    if (!input.current) {\n      return;\n    }\n\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React$1.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, _ref);\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused, newDesignLanguage && styles['SearchField-newDesignLanguage']);\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React$1.createElement(VisuallyHidden$1, null, /*#__PURE__*/React$1.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React$1.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Icon\n  }, _ref2), clearMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\n\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\n\nexport { SearchField };\n"]},"metadata":{},"sourceType":"module"}