{"ast":null,"code":"import React$1, { useState, useCallback } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CaretDownMinor } from '@shopify/polaris-icons';\nimport { handleMouseUpByBlurring } from '../../utilities/focus.js';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Spinner as Spinner$1 } from '../Spinner/Spinner.js';\nimport { Popover as Popover$1 } from '../Popover/Popover.js';\nimport { ActionList as ActionList$1 } from '../ActionList/ActionList.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport styles from './Button.scss.js';\nconst DEFAULT_SIZE = 'medium';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CaretDownMinor\n});\n\nfunction Button({\n  id,\n  children,\n  url,\n  disabled,\n  external,\n  download,\n  submit,\n  loading,\n  pressed,\n  accessibilityLabel,\n  ariaControls,\n  ariaExpanded,\n  ariaPressed,\n  onClick,\n  onFocus,\n  onBlur,\n  onKeyDown,\n  onKeyPress,\n  onKeyUp,\n  onMouseEnter,\n  onTouchStart,\n  icon,\n  primary,\n  outline,\n  destructive,\n  disclosure,\n  plain,\n  monochrome,\n  size = DEFAULT_SIZE,\n  textAlign,\n  fullWidth,\n  connectedDisclosure\n}) {\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const i18n = useI18n();\n  const isDisabled = disabled || loading;\n  const className = classNames(styles.Button, newDesignLanguage && styles.newDesignLanguage, primary && styles.primary, outline && styles.outline, destructive && styles.destructive, isDisabled && styles.disabled, loading && styles.loading, plain && styles.plain, pressed && !disabled && !url && styles.pressed, monochrome && styles.monochrome, size && size !== DEFAULT_SIZE && styles[variationName('size', size)], textAlign && styles[variationName('textAlign', textAlign)], fullWidth && styles.fullWidth, icon && children == null && styles.iconOnly, connectedDisclosure && styles.connectedDisclosure);\n  const disclosureIcon = /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: loading ? 'placeholder' : CaretDownMinor\n  });\n  const disclosureIconMarkup = disclosure ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: classNames(styles.DisclosureIcon, disclosure === 'up' && styles.DisclosureIconFacingUp, loading && styles.Hidden)\n  }, disclosureIcon)) : null;\n  let iconMarkup;\n\n  if (icon) {\n    const iconInner = isIconSource(icon) ? /*#__PURE__*/React$1.createElement(Icon$1, {\n      source: loading ? 'placeholder' : icon\n    }) : icon;\n    iconMarkup = /*#__PURE__*/React$1.createElement(\"span\", {\n      className: classNames(styles.Icon, loading && styles.Hidden)\n    }, iconInner);\n  }\n\n  const childMarkup = children ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, children) : null;\n  const spinnerColor = primary || destructive ? 'white' : 'inkLightest';\n  const spinnerSVGMarkup = loading ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Spinner\n  }, /*#__PURE__*/React$1.createElement(Spinner$1, {\n    size: \"small\",\n    color: spinnerColor,\n    accessibilityLabel: i18n.translate('Polaris.Button.spinnerAccessibilityLabel')\n  })) : null;\n  const content = iconMarkup || disclosureIconMarkup ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Content\n  }, spinnerSVGMarkup, iconMarkup, childMarkup, disclosureIconMarkup) : /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Content\n  }, spinnerSVGMarkup, childMarkup);\n  const ariaPressedStatus = pressed !== undefined ? pressed : ariaPressed;\n  const [disclosureActive, setDisclosureActive] = useState(false);\n  const toggleDisclosureActive = useCallback(() => {\n    setDisclosureActive(disclosureActive => !disclosureActive);\n  }, []);\n  let connectedDisclosureMarkup;\n\n  if (connectedDisclosure) {\n    const connectedDisclosureClassName = classNames(styles.Button, primary && styles.primary, outline && styles.outline, size && size !== DEFAULT_SIZE && styles[variationName('size', size)], textAlign && styles[variationName('textAlign', textAlign)], destructive && styles.destructive, connectedDisclosure.disabled && styles.disabled, styles.iconOnly, styles.ConnectedDisclosure, monochrome && styles.monochrome, newDesignLanguage && styles.newDesignLanguage);\n    const defaultLabel = i18n.translate('Polaris.Button.connectedDisclosureAccessibilityLabel');\n    const {\n      disabled: _disabled,\n      accessibilityLabel: disclosureLabel = defaultLabel\n    } = connectedDisclosure;\n    const connectedDisclosureActivator = /*#__PURE__*/React$1.createElement(\"button\", {\n      type: \"button\",\n      className: connectedDisclosureClassName,\n      disabled: _disabled,\n      \"aria-label\": disclosureLabel,\n      onClick: toggleDisclosureActive,\n      onMouseUp: handleMouseUpByBlurring\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Icon\n    }, _ref));\n    connectedDisclosureMarkup = /*#__PURE__*/React$1.createElement(Popover$1, {\n      active: disclosureActive,\n      onClose: toggleDisclosureActive,\n      activator: connectedDisclosureActivator,\n      preferredAlignment: \"right\"\n    }, /*#__PURE__*/React$1.createElement(ActionList$1, {\n      items: connectedDisclosure.actions,\n      onActionAnyItem: toggleDisclosureActive\n    }));\n  }\n\n  const commonProps = {\n    id,\n    className,\n    accessibilityLabel,\n    onClick,\n    onFocus,\n    onBlur,\n    onMouseUp: handleMouseUpByBlurring,\n    onMouseEnter,\n    onTouchStart\n  };\n  const linkProps = {\n    url,\n    external,\n    download\n  };\n  const actionProps = {\n    submit,\n    disabled: isDisabled,\n    loading,\n    ariaControls,\n    ariaExpanded,\n    ariaPressed: ariaPressedStatus,\n    onKeyDown,\n    onKeyUp,\n    onKeyPress\n  };\n  const buttonMarkup = /*#__PURE__*/React$1.createElement(UnstyledButton$1, Object.assign({}, commonProps, linkProps, actionProps), content);\n  return connectedDisclosureMarkup ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ConnectedDisclosureWrapper\n  }, buttonMarkup, connectedDisclosureMarkup) : buttonMarkup;\n}\n\nfunction isIconSource(x) {\n  return typeof x === 'string' || typeof x === 'object' && x.body || typeof x === 'function';\n}\n\nexport { Button };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Button/Button.js"],"names":["React$1","useState","useCallback","useFeatures","useI18n","classNames","variationName","CaretDownMinor","handleMouseUpByBlurring","Icon","Icon$1","Spinner","Spinner$1","Popover","Popover$1","ActionList","ActionList$1","UnstyledButton","UnstyledButton$1","styles","DEFAULT_SIZE","_ref","createElement","source","Button","id","children","url","disabled","external","download","submit","loading","pressed","accessibilityLabel","ariaControls","ariaExpanded","ariaPressed","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","onMouseEnter","onTouchStart","icon","primary","outline","destructive","disclosure","plain","monochrome","size","textAlign","fullWidth","connectedDisclosure","newDesignLanguage","i18n","isDisabled","className","iconOnly","disclosureIcon","disclosureIconMarkup","DisclosureIcon","DisclosureIconFacingUp","Hidden","iconMarkup","iconInner","isIconSource","childMarkup","Text","spinnerColor","spinnerSVGMarkup","color","translate","content","Content","ariaPressedStatus","undefined","disclosureActive","setDisclosureActive","toggleDisclosureActive","connectedDisclosureMarkup","connectedDisclosureClassName","ConnectedDisclosure","defaultLabel","_disabled","disclosureLabel","connectedDisclosureActivator","type","onMouseUp","active","onClose","activator","preferredAlignment","items","actions","onActionAnyItem","commonProps","linkProps","actionProps","buttonMarkup","Object","assign","ConnectedDisclosureWrapper","x","body"],"mappings":"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","sourcesContent":["import React$1, { useState, useCallback } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CaretDownMinor } from '@shopify/polaris-icons';\nimport { handleMouseUpByBlurring } from '../../utilities/focus.js';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Spinner as Spinner$1 } from '../Spinner/Spinner.js';\nimport { Popover as Popover$1 } from '../Popover/Popover.js';\nimport { ActionList as ActionList$1 } from '../ActionList/ActionList.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport styles from './Button.scss.js';\n\nconst DEFAULT_SIZE = 'medium';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CaretDownMinor\n});\n\nfunction Button({\n  id,\n  children,\n  url,\n  disabled,\n  external,\n  download,\n  submit,\n  loading,\n  pressed,\n  accessibilityLabel,\n  ariaControls,\n  ariaExpanded,\n  ariaPressed,\n  onClick,\n  onFocus,\n  onBlur,\n  onKeyDown,\n  onKeyPress,\n  onKeyUp,\n  onMouseEnter,\n  onTouchStart,\n  icon,\n  primary,\n  outline,\n  destructive,\n  disclosure,\n  plain,\n  monochrome,\n  size = DEFAULT_SIZE,\n  textAlign,\n  fullWidth,\n  connectedDisclosure\n}) {\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const i18n = useI18n();\n  const isDisabled = disabled || loading;\n  const className = classNames(styles.Button, newDesignLanguage && styles.newDesignLanguage, primary && styles.primary, outline && styles.outline, destructive && styles.destructive, isDisabled && styles.disabled, loading && styles.loading, plain && styles.plain, pressed && !disabled && !url && styles.pressed, monochrome && styles.monochrome, size && size !== DEFAULT_SIZE && styles[variationName('size', size)], textAlign && styles[variationName('textAlign', textAlign)], fullWidth && styles.fullWidth, icon && children == null && styles.iconOnly, connectedDisclosure && styles.connectedDisclosure);\n  const disclosureIcon = /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: loading ? 'placeholder' : CaretDownMinor\n  });\n  const disclosureIconMarkup = disclosure ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: classNames(styles.DisclosureIcon, disclosure === 'up' && styles.DisclosureIconFacingUp, loading && styles.Hidden)\n  }, disclosureIcon)) : null;\n  let iconMarkup;\n\n  if (icon) {\n    const iconInner = isIconSource(icon) ? /*#__PURE__*/React$1.createElement(Icon$1, {\n      source: loading ? 'placeholder' : icon\n    }) : icon;\n    iconMarkup = /*#__PURE__*/React$1.createElement(\"span\", {\n      className: classNames(styles.Icon, loading && styles.Hidden)\n    }, iconInner);\n  }\n\n  const childMarkup = children ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, children) : null;\n  const spinnerColor = primary || destructive ? 'white' : 'inkLightest';\n  const spinnerSVGMarkup = loading ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Spinner\n  }, /*#__PURE__*/React$1.createElement(Spinner$1, {\n    size: \"small\",\n    color: spinnerColor,\n    accessibilityLabel: i18n.translate('Polaris.Button.spinnerAccessibilityLabel')\n  })) : null;\n  const content = iconMarkup || disclosureIconMarkup ? /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Content\n  }, spinnerSVGMarkup, iconMarkup, childMarkup, disclosureIconMarkup) : /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Content\n  }, spinnerSVGMarkup, childMarkup);\n  const ariaPressedStatus = pressed !== undefined ? pressed : ariaPressed;\n  const [disclosureActive, setDisclosureActive] = useState(false);\n  const toggleDisclosureActive = useCallback(() => {\n    setDisclosureActive(disclosureActive => !disclosureActive);\n  }, []);\n  let connectedDisclosureMarkup;\n\n  if (connectedDisclosure) {\n    const connectedDisclosureClassName = classNames(styles.Button, primary && styles.primary, outline && styles.outline, size && size !== DEFAULT_SIZE && styles[variationName('size', size)], textAlign && styles[variationName('textAlign', textAlign)], destructive && styles.destructive, connectedDisclosure.disabled && styles.disabled, styles.iconOnly, styles.ConnectedDisclosure, monochrome && styles.monochrome, newDesignLanguage && styles.newDesignLanguage);\n    const defaultLabel = i18n.translate('Polaris.Button.connectedDisclosureAccessibilityLabel');\n    const {\n      disabled: _disabled,\n      accessibilityLabel: disclosureLabel = defaultLabel\n    } = connectedDisclosure;\n    const connectedDisclosureActivator = /*#__PURE__*/React$1.createElement(\"button\", {\n      type: \"button\",\n      className: connectedDisclosureClassName,\n      disabled: _disabled,\n      \"aria-label\": disclosureLabel,\n      onClick: toggleDisclosureActive,\n      onMouseUp: handleMouseUpByBlurring\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Icon\n    }, _ref));\n    connectedDisclosureMarkup = /*#__PURE__*/React$1.createElement(Popover$1, {\n      active: disclosureActive,\n      onClose: toggleDisclosureActive,\n      activator: connectedDisclosureActivator,\n      preferredAlignment: \"right\"\n    }, /*#__PURE__*/React$1.createElement(ActionList$1, {\n      items: connectedDisclosure.actions,\n      onActionAnyItem: toggleDisclosureActive\n    }));\n  }\n\n  const commonProps = {\n    id,\n    className,\n    accessibilityLabel,\n    onClick,\n    onFocus,\n    onBlur,\n    onMouseUp: handleMouseUpByBlurring,\n    onMouseEnter,\n    onTouchStart\n  };\n  const linkProps = {\n    url,\n    external,\n    download\n  };\n  const actionProps = {\n    submit,\n    disabled: isDisabled,\n    loading,\n    ariaControls,\n    ariaExpanded,\n    ariaPressed: ariaPressedStatus,\n    onKeyDown,\n    onKeyUp,\n    onKeyPress\n  };\n  const buttonMarkup = /*#__PURE__*/React$1.createElement(UnstyledButton$1, Object.assign({}, commonProps, linkProps, actionProps), content);\n  return connectedDisclosureMarkup ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ConnectedDisclosureWrapper\n  }, buttonMarkup, connectedDisclosureMarkup) : buttonMarkup;\n}\n\nfunction isIconSource(x) {\n  return typeof x === 'string' || typeof x === 'object' && x.body || typeof x === 'function';\n}\n\nexport { Button };\n"]},"metadata":{},"sourceType":"module"}