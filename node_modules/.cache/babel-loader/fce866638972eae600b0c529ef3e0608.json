{"ast":null,"code":"import React$1, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CancelSmallMinor, CircleInformationMajor, FlagMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { buttonFrom } from '../Button/utils.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport { Heading as Heading$1 } from '../Heading/Heading.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport styles from './Banner.scss.js';\nconst Banner = /*#__PURE__*/forwardRef(function Banner({\n  icon,\n  action,\n  secondaryAction,\n  title,\n  children,\n  status,\n  onDismiss,\n  stopAnnouncements\n}, bannerRef) {\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const withinContentContainer = useContext(WithinContentContext);\n  const buttonSizeValue = withinContentContainer ? 'slim' : undefined;\n  const id = useUniqueId('Banner');\n  const {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  } = useBannerFocus(bannerRef);\n  const {\n    defaultIcon,\n    iconColor,\n    ariaRoleType\n  } = useBannerAttributes(status, newDesignLanguage);\n  const iconName = icon || defaultIcon;\n  const className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage, newDesignLanguage && styles.newDesignLanguage);\n  let headingMarkup = null;\n  let headingID;\n\n  if (title) {\n    headingID = `${id}Heading`;\n    headingMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React$1.createElement(Heading$1, {\n      element: \"p\"\n    }, title));\n  }\n\n  let actionMarkup;\n\n  if (action) {\n    if (newDesignLanguage) {\n      actionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Actions\n      }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.PrimaryAction\n      }, unstyledButtonFrom(action, {\n        className: styles.Button\n      })), secondaryAction && /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n        action: secondaryAction\n      })));\n    } else {\n      actionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Actions\n      }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.PrimaryAction\n      }, buttonFrom(action, {\n        outline: true,\n        size: buttonSizeValue\n      })), secondaryAction && /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n        action: secondaryAction\n      })));\n    }\n  }\n\n  let contentMarkup = null;\n  let contentID;\n\n  if (children || actionMarkup) {\n    contentID = `${id}Content`;\n    contentMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  const dismissButton = onDismiss && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React$1.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: iconName,\n    color: iconColor,\n    backdrop: !newDesignLanguage\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom({\n  action\n}) {\n  if (action.url) {\n    return /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React$1.createElement(UnstyledButton$1, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status, newDesignLanguage) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: newDesignLanguage ? 'success' : 'greenDark',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: newDesignLanguage ? 'highlight' : 'tealDark',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: newDesignLanguage ? 'warning' : 'yellowDark',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: newDesignLanguage ? 'critical' : 'redDark',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: newDesignLanguage ? CircleInformationMajor : FlagMajor,\n        iconColor: newDesignLanguage ? 'base' : 'inkLighter',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  const wrapperRef = useRef(null);\n  const [shouldShowFocus, setShouldShowFocus] = useState(false);\n  useImperativeHandle(bannerRef, () => ({\n    focus: () => {\n      var _wrapperRef$current;\n\n      (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.focus();\n      setShouldShowFocus(true);\n    }\n  }));\n\n  const handleKeyUp = event => {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  const handleBlur = () => setShouldShowFocus(false);\n\n  const handleMouseUp = event => {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  };\n}\n\nexport { Banner };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Banner/Banner.js"],"names":["React$1","forwardRef","useContext","useRef","useState","useImperativeHandle","useFeatures","useUniqueId","classNames","variationName","CancelSmallMinor","CircleInformationMajor","FlagMajor","DiamondAlertMajor","CircleAlertMajor","CircleTickMajor","Icon","Icon$1","UnstyledLink","UnstyledLink$1","UnstyledButton","UnstyledButton$1","unstyledButtonFrom","Button","Button$1","buttonFrom","WithinContentContext","ButtonGroup","ButtonGroup$1","Heading","Heading$1","BannerContext","styles","Banner","icon","action","secondaryAction","title","children","status","onDismiss","stopAnnouncements","bannerRef","newDesignLanguage","withinContentContainer","buttonSizeValue","undefined","id","wrapperRef","handleKeyUp","handleBlur","handleMouseUp","shouldShowFocus","useBannerFocus","defaultIcon","iconColor","ariaRoleType","useBannerAttributes","iconName","className","hasDismiss","keyFocused","withinPage","headingMarkup","headingID","createElement","element","actionMarkup","Actions","PrimaryAction","SecondaryActionFrom","outline","size","contentMarkup","contentID","Content","dismissButton","Dismiss","plain","onClick","accessibilityLabel","Provider","value","tabIndex","ref","role","onMouseUp","onKeyUp","onBlur","Ribbon","source","color","backdrop","ContentWrapper","url","SecondaryAction","external","Text","content","onAction","setShouldShowFocus","focus","_wrapperRef$current","current","event","target","currentTarget","blur"],"mappings":"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","sourcesContent":["import React$1, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { useFeatures } from '../../utilities/features/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CancelSmallMinor, CircleInformationMajor, FlagMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { buttonFrom } from '../Button/utils.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport { Heading as Heading$1 } from '../Heading/Heading.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport styles from './Banner.scss.js';\n\nconst Banner = /*#__PURE__*/forwardRef(function Banner({\n  icon,\n  action,\n  secondaryAction,\n  title,\n  children,\n  status,\n  onDismiss,\n  stopAnnouncements\n}, bannerRef) {\n  const {\n    newDesignLanguage\n  } = useFeatures();\n  const withinContentContainer = useContext(WithinContentContext);\n  const buttonSizeValue = withinContentContainer ? 'slim' : undefined;\n  const id = useUniqueId('Banner');\n  const {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  } = useBannerFocus(bannerRef);\n  const {\n    defaultIcon,\n    iconColor,\n    ariaRoleType\n  } = useBannerAttributes(status, newDesignLanguage);\n  const iconName = icon || defaultIcon;\n  const className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage, newDesignLanguage && styles.newDesignLanguage);\n  let headingMarkup = null;\n  let headingID;\n\n  if (title) {\n    headingID = `${id}Heading`;\n    headingMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React$1.createElement(Heading$1, {\n      element: \"p\"\n    }, title));\n  }\n\n  let actionMarkup;\n\n  if (action) {\n    if (newDesignLanguage) {\n      actionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Actions\n      }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.PrimaryAction\n      }, unstyledButtonFrom(action, {\n        className: styles.Button\n      })), secondaryAction && /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n        action: secondaryAction\n      })));\n    } else {\n      actionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Actions\n      }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.PrimaryAction\n      }, buttonFrom(action, {\n        outline: true,\n        size: buttonSizeValue\n      })), secondaryAction && /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n        action: secondaryAction\n      })));\n    }\n  }\n\n  let contentMarkup = null;\n  let contentID;\n\n  if (children || actionMarkup) {\n    contentID = `${id}Content`;\n    contentMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  const dismissButton = onDismiss && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React$1.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: iconName,\n    color: iconColor,\n    backdrop: !newDesignLanguage\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom({\n  action\n}) {\n  if (action.url) {\n    return /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React$1.createElement(UnstyledButton$1, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status, newDesignLanguage) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: newDesignLanguage ? 'success' : 'greenDark',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: newDesignLanguage ? 'highlight' : 'tealDark',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: newDesignLanguage ? 'warning' : 'yellowDark',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: newDesignLanguage ? 'critical' : 'redDark',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: newDesignLanguage ? CircleInformationMajor : FlagMajor,\n        iconColor: newDesignLanguage ? 'base' : 'inkLighter',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  const wrapperRef = useRef(null);\n  const [shouldShowFocus, setShouldShowFocus] = useState(false);\n  useImperativeHandle(bannerRef, () => ({\n    focus: () => {\n      var _wrapperRef$current;\n\n      (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.focus();\n      setShouldShowFocus(true);\n    }\n  }));\n\n  const handleKeyUp = event => {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  const handleBlur = () => setShouldShowFocus(false);\n\n  const handleMouseUp = event => {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  };\n}\n\nexport { Banner };\n"]},"metadata":{},"sourceType":"module"}