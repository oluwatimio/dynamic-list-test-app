{"ast":null,"code":"import { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React$1, { Component } from 'react';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { ThemeProvider as ThemeProvider$1 } from '../ThemeProvider/ThemeProvider.js';\nimport { MediaQueryProvider as MediaQueryProvider$1 } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { FocusManager as FocusManager$1 } from '../FocusManager/FocusManager.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { I18n as I18n$1 } from '../../utilities/i18n/I18n.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { PortalsContainer as PortalsContainer$1 } from '../../utilities/portals/PortalsContainer.js';\nimport { PortalsManagerProvider as PortalsManagerProvider$1 } from '../../utilities/portals/PortalsManagerProvider.js';\nimport './AppProvider.scss.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(PortalsContainer$1, null);\n\nclass AppProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.stickyManager = void 0;\n    this.scrollLockManager = void 0;\n    this.uniqueIdFactory = void 0;\n    this.stickyManager = new StickyManager();\n    this.scrollLockManager = new ScrollLockManager();\n    this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    const {\n      i18n,\n      linkComponent\n    } = this.props; // eslint-disable-next-line react/state-in-constructor\n\n    this.state = {\n      link: linkComponent,\n      intl: new I18n$1(i18n)\n    };\n  }\n\n  componentDidMount() {\n    if (document != null) {\n      this.stickyManager.setContainer(document);\n    }\n  }\n\n  componentDidUpdate({\n    i18n: prevI18n,\n    linkComponent: prevLinkComponent\n  }) {\n    const {\n      i18n,\n      linkComponent\n    } = this.props;\n\n    if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n      return;\n    } // eslint-disable-next-line react/no-did-update-set-state\n\n\n    this.setState({\n      link: linkComponent,\n      intl: new I18n$1(i18n)\n    });\n  }\n\n  render() {\n    const {\n      theme = {},\n      children\n    } = this.props;\n    const {\n      intl,\n      link\n    } = this.state;\n\n    const features = _objectSpread2({\n      newDesignLanguage: false\n    }, this.props.features);\n\n    return /*#__PURE__*/React$1.createElement(FeaturesContext.Provider, {\n      value: features\n    }, /*#__PURE__*/React$1.createElement(I18nContext.Provider, {\n      value: intl\n    }, /*#__PURE__*/React$1.createElement(ScrollLockManagerContext.Provider, {\n      value: this.scrollLockManager\n    }, /*#__PURE__*/React$1.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React$1.createElement(UniqueIdFactoryContext.Provider, {\n      value: this.uniqueIdFactory\n    }, /*#__PURE__*/React$1.createElement(LinkContext.Provider, {\n      value: link\n    }, /*#__PURE__*/React$1.createElement(ThemeProvider$1, {\n      theme: theme\n    }, /*#__PURE__*/React$1.createElement(MediaQueryProvider$1, null, /*#__PURE__*/React$1.createElement(PortalsManagerProvider$1, null, /*#__PURE__*/React$1.createElement(FocusManager$1, null, children), _ref)))))))));\n  }\n\n}\n\nexport { AppProvider };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/AppProvider/AppProvider.js"],"names":["objectSpread2","_objectSpread2","React$1","Component","FeaturesContext","ThemeProvider","ThemeProvider$1","MediaQueryProvider","MediaQueryProvider$1","UniqueIdFactoryContext","UniqueIdFactory","globalIdGeneratorFactory","FocusManager","FocusManager$1","I18nContext","I18n","I18n$1","ScrollLockManagerContext","ScrollLockManager","StickyManagerContext","StickyManager","LinkContext","PortalsContainer","PortalsContainer$1","PortalsManagerProvider","PortalsManagerProvider$1","_ref","createElement","AppProvider","constructor","props","stickyManager","scrollLockManager","uniqueIdFactory","i18n","linkComponent","state","link","intl","componentDidMount","document","setContainer","componentDidUpdate","prevI18n","prevLinkComponent","setState","render","theme","children","features","newDesignLanguage","Provider","value"],"mappings":"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","sourcesContent":["import { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React$1, { Component } from 'react';\nimport { FeaturesContext } from '../../utilities/features/context.js';\nimport { ThemeProvider as ThemeProvider$1 } from '../ThemeProvider/ThemeProvider.js';\nimport { MediaQueryProvider as MediaQueryProvider$1 } from '../MediaQueryProvider/MediaQueryProvider.js';\nimport { UniqueIdFactoryContext } from '../../utilities/unique-id/context.js';\nimport { UniqueIdFactory, globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { FocusManager as FocusManager$1 } from '../FocusManager/FocusManager.js';\nimport { I18nContext } from '../../utilities/i18n/context.js';\nimport { I18n as I18n$1 } from '../../utilities/i18n/I18n.js';\nimport { ScrollLockManagerContext } from '../../utilities/scroll-lock-manager/context.js';\nimport { ScrollLockManager } from '../../utilities/scroll-lock-manager/scroll-lock-manager.js';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { LinkContext } from '../../utilities/link/context.js';\nimport { PortalsContainer as PortalsContainer$1 } from '../../utilities/portals/PortalsContainer.js';\nimport { PortalsManagerProvider as PortalsManagerProvider$1 } from '../../utilities/portals/PortalsManagerProvider.js';\nimport './AppProvider.scss.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(PortalsContainer$1, null);\n\nclass AppProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.stickyManager = void 0;\n    this.scrollLockManager = void 0;\n    this.uniqueIdFactory = void 0;\n    this.stickyManager = new StickyManager();\n    this.scrollLockManager = new ScrollLockManager();\n    this.uniqueIdFactory = new UniqueIdFactory(globalIdGeneratorFactory);\n    const {\n      i18n,\n      linkComponent\n    } = this.props; // eslint-disable-next-line react/state-in-constructor\n\n    this.state = {\n      link: linkComponent,\n      intl: new I18n$1(i18n)\n    };\n  }\n\n  componentDidMount() {\n    if (document != null) {\n      this.stickyManager.setContainer(document);\n    }\n  }\n\n  componentDidUpdate({\n    i18n: prevI18n,\n    linkComponent: prevLinkComponent\n  }) {\n    const {\n      i18n,\n      linkComponent\n    } = this.props;\n\n    if (i18n === prevI18n && linkComponent === prevLinkComponent) {\n      return;\n    } // eslint-disable-next-line react/no-did-update-set-state\n\n\n    this.setState({\n      link: linkComponent,\n      intl: new I18n$1(i18n)\n    });\n  }\n\n  render() {\n    const {\n      theme = {},\n      children\n    } = this.props;\n    const {\n      intl,\n      link\n    } = this.state;\n\n    const features = _objectSpread2({\n      newDesignLanguage: false\n    }, this.props.features);\n\n    return /*#__PURE__*/React$1.createElement(FeaturesContext.Provider, {\n      value: features\n    }, /*#__PURE__*/React$1.createElement(I18nContext.Provider, {\n      value: intl\n    }, /*#__PURE__*/React$1.createElement(ScrollLockManagerContext.Provider, {\n      value: this.scrollLockManager\n    }, /*#__PURE__*/React$1.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React$1.createElement(UniqueIdFactoryContext.Provider, {\n      value: this.uniqueIdFactory\n    }, /*#__PURE__*/React$1.createElement(LinkContext.Provider, {\n      value: link\n    }, /*#__PURE__*/React$1.createElement(ThemeProvider$1, {\n      theme: theme\n    }, /*#__PURE__*/React$1.createElement(MediaQueryProvider$1, null, /*#__PURE__*/React$1.createElement(PortalsManagerProvider$1, null, /*#__PURE__*/React$1.createElement(FocusManager$1, null, children), _ref)))))))));\n  }\n\n}\n\nexport { AppProvider };\n"]},"metadata":{},"sourceType":"module"}