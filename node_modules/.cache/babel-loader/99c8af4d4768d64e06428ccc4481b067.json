{"ast":null,"code":"import React$1, { useState, useRef, useEffect } from 'react';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { Portal as Portal$1 } from '../Portal/Portal.js';\nimport { useToggle as useToggle$1 } from '../../utilities/use-toggle.js';\nimport styles from './Tooltip.scss.js';\nimport { TooltipOverlay as TooltipOverlay$1 } from './components/TooltipOverlay/TooltipOverlay.js';\n\nfunction Tooltip({\n  children,\n  content,\n  light,\n  dismissOnMouseOut,\n  active: originalActive,\n  preferredPosition = 'below',\n  activatorWrapper = 'span'\n}) {\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle$1(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n  }, [id, children]);\n  const portal = activatorNode ? /*#__PURE__*/React$1.createElement(Portal$1, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React$1.createElement(TooltipOverlay$1, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    onClose: noop,\n    light: light,\n    preventInteraction: dismissOnMouseOut\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Label\n  }, content))) : null;\n  return /*#__PURE__*/React$1.createElement(WrapperComponent, {\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator\n  }, children, portal);\n\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n    handleFocus();\n  }\n\n  function handleMouseLeave() {\n    mouseEntered.current = false;\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\n\nfunction noop() {}\n\nexport { Tooltip };","map":{"version":3,"sources":["/Users/timi/Desktop/typescript-test/node_modules/@shopify/polaris/dist/esm/components/Tooltip/Tooltip.js"],"names":["React$1","useState","useRef","useEffect","useUniqueId","findFirstFocusableNode","Portal","Portal$1","useToggle","useToggle$1","styles","TooltipOverlay","TooltipOverlay$1","Tooltip","children","content","light","dismissOnMouseOut","active","originalActive","preferredPosition","activatorWrapper","WrapperComponent","value","setTrue","handleFocus","setFalse","handleBlur","Boolean","activatorNode","setActivatorNode","id","activatorContainer","mouseEntered","firstFocusable","current","accessibilityNode","tabIndex","setAttribute","portal","createElement","idPrefix","activator","onClose","noop","preventInteraction","className","Label","onFocus","onBlur","onMouseLeave","handleMouseLeave","onMouseOver","handleMouseEnterFix","ref","setActivator","node","activatorContainerRef","firstElementChild","HTMLElement","handleMouseEnter"],"mappings":"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","sourcesContent":["import React$1, { useState, useRef, useEffect } from 'react';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { Portal as Portal$1 } from '../Portal/Portal.js';\nimport { useToggle as useToggle$1 } from '../../utilities/use-toggle.js';\nimport styles from './Tooltip.scss.js';\nimport { TooltipOverlay as TooltipOverlay$1 } from './components/TooltipOverlay/TooltipOverlay.js';\n\nfunction Tooltip({\n  children,\n  content,\n  light,\n  dismissOnMouseOut,\n  active: originalActive,\n  preferredPosition = 'below',\n  activatorWrapper = 'span'\n}) {\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle$1(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n  }, [id, children]);\n  const portal = activatorNode ? /*#__PURE__*/React$1.createElement(Portal$1, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React$1.createElement(TooltipOverlay$1, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    onClose: noop,\n    light: light,\n    preventInteraction: dismissOnMouseOut\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Label\n  }, content))) : null;\n  return /*#__PURE__*/React$1.createElement(WrapperComponent, {\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator\n  }, children, portal);\n\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n    handleFocus();\n  }\n\n  function handleMouseLeave() {\n    mouseEntered.current = false;\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\n\nfunction noop() {}\n\nexport { Tooltip };\n"]},"metadata":{},"sourceType":"module"}